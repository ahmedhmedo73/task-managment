import{$ as X,$a as r2,Ca as t,Da as u,H as N,Ha as v,I as l,Ia as g,J as V,Ja as J,N as n,O as W,P as B,Q as F,Qa as b,R as i,S as f,Sa as Z,T as o,Ta as $,U as m,Ua as P,V as E,Va as Y,W as C,Wa as c2,X as I,Y as p,Ya as a2,Z as O,Za as e2,_,_a as s2,a as R,b as U,bb as i2,ca as j,cb as f2,da as S,db as l2,ea as Q,fa as L,fb as o2,ga as d,ja as k,t as z,u as q,ua as K,y as G}from"./chunk-KTSCNCVQ.js";var U2={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]};var n2={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]};var M="[Tasks]",W2=t(`${M} get tasks`),H2=t(`${M} add task`,u()),z2=t(`${M} update task`,u()),V2=t(`${M} delete task`,u()),w=t(`${M} open taskFormDialog`,u()),t2=t(`${M} close taskFormDialog`),A=t(`${M} set selectedTask`,u()),E2=t(`${M} request fail`);var m2=(()=>{let c=class c{constructor(e){this.store=e,this.faPlus=n2}openTaskFormDialog(){this.store.dispatch(w({taskFormMode:"Add"}))}};c.\u0275fac=function(s){return new(s||c)(V(v))},c.\u0275cmp=z({type:c,selectors:[["app-header-index"]],decls:18,vars:7,consts:[[1,"container-fluid","px-0","d-flex","justify-content-between","mb-32px"],[1,"title","m-0"],[1,"d-flex","flex-row-reverse","gap-24px","align-items-center","justify-content-end"],[1,"btn","btn-primary","new-task","d-flex","gap-2","border-radius-8px",3,"click"],[3,"icon"],[1,"btn","p-0","d-none","d-md-inline-block"],["src","assets/images/tasks/filter.svg","alt","filter"],["src","assets/images/tasks/users.svg","alt","users"],["src","assets/images/tasks/forward.svg","alt","forward"],["src","assets/images/tasks/backward.svg","alt","backward"]],template:function(s,r){s&1&&(i(0,"div",0)(1,"h3",1),C(2),L(3,"translate"),f(),i(4,"div",2)(5,"button",3),m("click",function(){return r.openTaskFormDialog()}),i(6,"span"),C(7),L(8,"translate"),f(),o(9,"fa-icon",4),f(),i(10,"button",5),o(11,"img",6),f(),i(12,"button",5),o(13,"img",7),f(),i(14,"button",5),o(15,"img",8),f(),i(16,"button",5),o(17,"img",9),f()()()),s&2&&(l(2),I(d(3,3,"Tasks")),l(5),p(" ",d(8,5,"New Task")," "),l(2),n("icon",r.faPlus))},dependencies:[Z,b],styles:[".title[_ngcontent-%COMP%]{font-size:31px;font-weight:500;line-height:40px;letter-spacing:0em}.new-task[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:24px;letter-spacing:0em}"]});let a=c;return a})();var y=J("tasks"),v2=g(y,a=>a.tasks),M2=g(y,a=>a.taskFormDialogVisibility),h2=g(y,a=>a.taskFormMode),C2=g(y,a=>a.selectedTask);var k2=a=>({border:a}),p2=(()=>{let c=class c{constructor(e){this.store=e,this.categoryIndex=0,this.taskIndex=0,this.task={id:0,categoryId:0,title:"",image:""},this.border=""}updateTask(){this.store.dispatch(w({taskFormMode:"Update"})),this.store.dispatch(A({task:U(R({},this.task),{id:this.taskIndex})}))}deleteTask(){this.store.dispatch(V2({categoryIndex:this.categoryIndex,taskIndex:this.taskIndex}))}};c.\u0275fac=function(s){return new(s||c)(V(v))},c.\u0275cmp=z({type:c,selectors:[["app-task-card"]],inputs:{categoryIndex:"categoryIndex",taskIndex:"taskIndex",task:"task",border:"border"},decls:10,vars:5,consts:[[1,"task-card","border-radius-8px","bg-white","p-12px","d-flex","flex-column","gap-2",3,"ngStyle"],[1,"task-header","d-flex","justify-content-between"],["alt","",3,"src"],[1,"task-actions","d-flex","gap-1"],[1,"btn","p-0",3,"click"],["src","assets/images/edit.svg","alt","update task"],["src","assets/images/delete.svg","alt","delete task"],[1,"m-0"]],template:function(s,r){s&1&&(i(0,"div",0)(1,"div",1),o(2,"img",2),i(3,"div",3)(4,"button",4),m("click",function(){return r.updateTask()}),o(5,"img",5),f(),i(6,"button",4),m("click",function(){return r.deleteTask()}),o(7,"img",6),f()()(),i(8,"p",7),C(9),f()()),s&2&&(n("ngStyle",S(3,k2,r.border)),l(2),n("src",r.task.image,N),l(7),p(" ",r.task.title," "))},dependencies:[k],styles:[".task-card[_ngcontent-%COMP%]{border:inherit}"]});let a=c;return a})();var w2=(a,c)=>c.category.icon,A2=(a,c)=>c.image;function y2(a,c){if(a&1&&o(0,"app-task-card",8),a&2){let H=c.$implicit,e=c.$index,s=E(),r=s.$index,h=s.$implicit;n("categoryIndex",r)("taskIndex",e)("task",H)("border",h.category.border)}}var T2=(a,c)=>({border:a,background:c}),B2=a=>({color:a});function F2(a,c){if(a&1&&(i(0,"div",2)(1,"div",3)(2,"div",4),o(3,"img",5),L(4,"translate"),i(5,"h5",6),C(6),L(7,"translate"),f()(),i(8,"div",7),B(9,y2,1,4,"app-task-card",8,A2),f()()()),a&2){let H=c.$implicit;l(),n("ngStyle",Q(9,T2,H.category.border,H.category.background)),l(2),n("src",H.category.icon,N)("alt",d(4,5,"lang")=="ar"?H.category.name_ar:H.category.name_en),l(2),n("ngStyle",S(12,B2,H.category.color)),l(),p(" ",d(7,7,"lang")=="ar"?H.category.name_ar:H.category.name_en," "),l(3),F(H.tasks)}}var L2=(()=>{let c=class c{constructor(e){this.store=e,this.taskList=[],this.subscriptionList=[]}ngOnInit(){this.getTasks()}getTasks(){this.store.select(v2).subscribe({next:e=>{this.taskList=e}})}ngOnDestroy(){this.subscriptionList.forEach(e=>{e.unsubscribe()})}};c.\u0275fac=function(s){return new(s||c)(V(v))},c.\u0275cmp=z({type:c,selectors:[["app-task-list"]],decls:4,vars:0,consts:[[1,"container-fluid","p-0","mb-5"],[1,"row","g-4"],[1,"col-md"],[1,"border-radius-8px","p-12px",3,"ngStyle"],[1,"task-list-header","d-flex","gap-3","mb-14px"],[3,"src","alt"],[1,"list-title","m-0",3,"ngStyle"],[1,"task-card-container","d-flex","flex-column","gap-3"],[3,"categoryIndex","taskIndex","task","border"],["class","col-md"]],template:function(s,r){s&1&&(i(0,"div",0)(1,"div",1),B(2,F2,11,14,"div",9,w2),f()()),s&2&&(l(2),F(r.taskList))},dependencies:[k,p2,b],styles:[".todo-list[_ngcontent-%COMP%]{border:1px solid #cad9f6;background:linear-gradient(0deg,#eef2fc,#eef2fc),linear-gradient(0deg,#cad9f6,#cad9f6)}.todo-list[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{color:#14367b}.in-progress-list[_ngcontent-%COMP%]{border:1px solid #ffe4c2;background:linear-gradient(0deg,#fff6eb,#fff6eb),linear-gradient(0deg,#ffe4c2,#ffe4c2)}.in-progress-list[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{color:#8f4f00}.done-list[_ngcontent-%COMP%]{border:1px solid #fad0c6;background:linear-gradient(0deg,#fdf0ec,#fdf0ec),linear-gradient(0deg,#fad0c6,#fad0c6)}.done-list[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{color:#81290e}.list-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:26px;letter-spacing:0em}"]});let a=c;return a})();var D2=()=>({width:"400px"}),d2=(()=>{let c=class c{constructor(e,s){this.formBuilder=e,this.store=s,this.taskFormMode="Add",this.taskFormDialogVisibility=!1,this.subscriptionList=[],this.defaultTaskImage="assets/images/tasks/cards/card1.svg"}ngOnInit(){this.createTaskForm(),this.getTaskFormDialogVisibility(),this.getTaskFormMode(),this.getSelectedTask()}createTaskForm(){this.taskForm=this.formBuilder.group({id:0,categoryId:0,title:["",P.required],image:[this.defaultTaskImage,P.required]})}getTaskFormMode(){this.subscriptionList.push(this.store.select(h2).subscribe({next:e=>{this.taskFormMode=e,e=="Add"&&this.createTaskForm()}}))}getSelectedTask(){this.subscriptionList.push(this.store.select(C2).subscribe({next:e=>{this.taskFormMode=="Update"&&this.handleDataForUpdate(e)}}))}handleDataForUpdate(e){e&&this.taskForm.patchValue(e)}getTaskFormDialogVisibility(){this.subscriptionList.push(this.store.select(M2).subscribe({next:e=>this.taskFormDialogVisibility=e}))}submit(){switch(console.log(this.taskFormMode,"this.taskFormMode"),this.taskFormMode){case"Add":this.addTask();break;case"Update":this.updateTask();break}}addTask(){this.taskForm.valid&&(this.store.dispatch(H2({task:this.taskForm.value})),this.closeDialog())}updateTask(){this.taskForm.valid&&(console.log(this.taskForm.value,"this.taskForm.value"),this.store.dispatch(z2({task:this.taskForm.value})),this.closeDialog())}closeDialog(){this.store.dispatch(t2()),this.createTaskForm(),this.store.dispatch(A({task:void 0}))}ngOnDestroy(){this.subscriptionList.forEach(e=>{e.unsubscribe()})}};c.\u0275fac=function(s){return new(s||c)(V(r2),V(v))},c.\u0275cmp=z({type:c,selectors:[["app-task-form"]],decls:5,vars:14,consts:[[3,"draggable","resizable","modal","dismissableMask","visible","appendTo","header","visibleChange","onHide"],[1,"form-container","d-flex","flex-column","justify-content-center","gap-2","px-2","mt-2",3,"formGroup"],["rows","5","cols","30","pInputTextarea","","formControlName","title"],[1,"form-group","d-flex","justify-content-center"],[3,"label","styleClass","disabled","onClick"]],template:function(s,r){s&1&&(i(0,"p-dialog",0),X("visibleChange",function(T){return _(r.taskFormDialogVisibility,T)||(r.taskFormDialogVisibility=T),T}),m("onHide",function(){return r.closeDialog()}),i(1,"form",1),o(2,"textarea",2),i(3,"div",3)(4,"p-button",4),m("onClick",function(){return r.submit()}),f()()()()),s&2&&(W(j(13,D2)),n("draggable",!1)("resizable",!1)("modal",!0)("dismissableMask",!1),O("visible",r.taskFormDialogVisibility),n("appendTo","body")("header",r.taskFormMode+" Task"),l(),n("formGroup",r.taskForm),l(3),n("label",r.taskFormMode)("styleClass","btn btn-primary")("disabled",r.taskForm.invalid))},dependencies:[i2,f2,a2,$,Y,c2,e2,s2,l2],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]});let a=c;return a})();var u2=(()=>{let c=class c{};c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=z({type:c,selectors:[["app-index"]],decls:3,vars:0,template:function(s,r){s&1&&o(0,"app-header-index")(1,"app-task-list")(2,"app-task-form")},dependencies:[m2,L2,d2]});let a=c;return a})();var g2=[{path:"",component:u2}];var d1=(()=>{let c=class c{};c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=q({type:c}),c.\u0275inj=G({imports:[K.forChild(g2),o2]});let a=c;return a})();export{U2 as a,H2 as b,z2 as c,V2 as d,w as e,t2 as f,A as g,E2 as h,d1 as i};
